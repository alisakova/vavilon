
//для плавного скролла к якорям
$(document).ready(function() {
  $("body").on("click", "._scroll-btn", function(event) {
    event.preventDefault();
    var id = $(this).attr("href"),
        top = $(id).offset().top;
    $("body,html").animate({ scrollTop: top }, 1500);
  });
});

$(document).ready(function() {
    $('.filter__select').select2({
      minimumResultsForSearch: Infinity,
      width: 'resolve'
    });
});

$(document).ready(function(){
  if ($('._slider').length) {
    $('._slider').slick({
      infinite: true,
      speed: 500,
      autoplay: true,
      autoplaySpeed: 15000,
      fade: true,
      arrows: false,
      dots: true,
    });
  }
  if ($('.companies-slider').length) {
    $('.companies-slider').slick({
      slidesToShow: 5,
      infinite: true,
      // adaptiveHeight: true
    });
  }
});

function openTab(evt, name) {
  var i, tabcontent, tablinks;

  tabcontent = document.getElementsByClassName("tabs__content");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  tablinks = document.getElementsByClassName("tabs__tab");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  document.getElementById(name).style.display = "block";
  evt.currentTarget.className += " active";
}

var defaultClick = document.querySelector("._default");

if (defaultClick) {
  defaultClick.click();
}

var toTopBtn = document.querySelector(".top-btn");
var scrollAnimation;

if (toTopBtn) {
  window.onscroll = function() {
    scrollFunction();
  };

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      toTopBtn.classList.add("active");
    } else {
      toTopBtn.classList.remove("active");
    }
  }

  function scrollToTop() {
    var position = document.body.scrollTop || document.documentElement.scrollTop;
    if (position) {
      window.scrollBy(0, -Math.max(10, Math.floor(position / 10)));
      scrollAnimation = setTimeout("scrollToTop()", 10);
    } else clearTimeout(scrollAnimation);
  }
}
